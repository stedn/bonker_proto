<!DOCTYPE html><html lang="en"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>A GPT2+BERT reddit reply bot in 20 minutes | bonkerfield</title><meta name="description" content="just your standard information identity spacetime field"><meta itemprop="name" content="will stedden"><meta itemprop="description" content="just your standard information identity spacetime field"><meta itemprop="image" content="https://bonkerfield.org/assets/images/2020/tup_too_real.png"><meta property="og:url" content="https://bonkerfield.org/2020/04/twenty-minute-gpt2-reply-bot/"><meta property="og:type" content="website"><meta property="og:title" content="A GPT2+BERT reddit reply bot in 20 minutes | bonkerfield"><meta property="og:site_name" content="bonkerfield"><meta property="og:description" content="just your standard information identity spacetime field"><meta property="og:image" content="https://bonkerfield.org/assets/images/2020/tup_too_real.png"><meta property="twitter:url" content="https://bonkerfield.org/2020/04/twenty-minute-gpt2-reply-bot/"><meta property="twitter:card" content="summary_large_image"/><meta property="twitter:title" content="A GPT2+BERT reddit reply bot in 20 minutes | bonkerfield"><meta property="twitter:site" content="bonkerfield"><meta property="twitter:description" content="just your standard information identity spacetime field"><meta property="twitter:creator" content="@bonkerfield"><meta property="twitter:image" content="https://bonkerfield.org/assets/images/2020/tup_too_real.png"><link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico"><link rel="stylesheet" href="/assets/css/app.min.css"><link rel="alternate" type="application/rss+xml" title="bonkerfield" href="/feed.xml"><link rel="canonical" href="/2020/04/twenty-minute-gpt2-reply-bot/"><link rel="webmention" href="https://webmention.io/bonkerfield.org/webmention" /><link rel="pingback" href="https://webmention.io/bonkerfield.org/xmlrpc" /> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-132451521-2"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-132451521-2'); </script><link href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css' rel='stylesheet'/></head><body id="a-gpt2-bert-reddit-reply-bot-in-20-minutes" class="post-layout"><header class="header"> <a class="header__title" href="/">bonkerfield</a><nav><ul class="header__list"><li><a href="/things">things</a></li><li><a href="https://viewfoil.bonkerfield.org/"><img src="/assets/images/main/viewfoil_ico.svg"/></a></li><li><span class="popup__open"><i class="fa fa-envelope"></i></span></li><li><a href="/search"><i class="fa fa-search"></i></a></li></ul></nav></header><a style="display:none;" class="p-author h-card" href="http://bonkerfield.org"> <img alt="" src="/assets/images/main/face_prof.jpg"/> will stedden</a><main class="bonk"><div class="post"><article class="h-entry" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting"><div class="post__header section-padding-half"><div class="grid-small"><h2 itemprop="name headline p-name">A GPT2+BERT reddit reply bot in 20 minutes</h2><time class="post__date dt-published" datetime="2020-04-18T00:00:00-07:00" itemprop="datePublished">2020·04·18</time> <span class="post__author"> | <a class="p-name u-url" href="http://hellowill.bonkerfield.org" title="about">will stedden</a> </span><p class="post__description p-summary"></p><a class="u-url" style="display:none;" href="https://bonkerfield.org/2020/04/twenty-minute-gpt2-reply-bot/"></a></div></div><div class="post__content section-padding"><div class="grid"><div class="e-content" id="markdown" itemprop="articleBody"><p> There's a new subreddit called <a href="https://www.reddit.com/r/talkwithgpt2bots/">talkwithgpt2bots</a> that's intended to let people interact with AI based comment bots. I got my <a href="https://www.reddit.com/user/tupperware-party">tupperware-party</a> bot working again on there, but it would be awesome to have a bunch of bots interacting there. To help others get started building comment bots, I figured I could simplify my previous <a href="/2020/02/reddit-bot-gpt2-bert/">GPT2-BERT tutorial</a> to be even simpler to run.</p><p> I put all of the code, data, and models for tupperware-party in one place. Below I've written out a guide to run a duplicate of my bot explaining each of these steps:</p><ul><li>1. Make a reddit app so your bot has credentials</li><li>2. Copy the data and notebooks into your Google Drive home directory</li><li>3. Enter your credentials into the Google Colab notebooks</li><li>4. Run the reddit_reply_bot_simple_step1.ipynb notebook and let it finish</li><li>5. Run the reddit_reply_bot_simple_step2.ipynb notebook</li></ul><p> Below, I'll go into those 5 steps in a little more detail.</p><h4>1. Make a reddit app</h4><p> Your bot will need credentials to post replies on reddit. To get credentials you can follow these directions I took from <a href="https://github.com/reddit-archive/reddit/wiki/OAuth2-Quick-Start-Example#first-steps">this page</a>.</p><p> Go to your <a href="https://www.reddit.com/prefs/apps">app preferences</a>. Click the "Create app" or "Create another app" button. Fill out the form like so:</p><pre>
    name: My Example App
    App type: Choose the script option
    description: You can leave this blank
    about url: You can leave this blank
    redirect url: http://www.example.com/unused/redirect/uri (We won't be using this as a redirect)
</pre><p> Hit the "create app" button. Make note of the client ID and client secret. For the rest of this page, it will be assumed that:</p><img src="/assets/images/2020/reddit_credentials.png" /><h4>2. Copy the data and all the code on Google Drive</h4><p> I've put all the code, all the data you'll need, and the pretrained models into <a href="https://drive.google.com/drive/folders/1P0iSXn44V9NPy-aFHVlotHR7B4jG-b84?usp=sharing">this shared folder</a> on Google Drive. Open that and make save your own copy to your Google Drive.</p><img src="/assets/images/2020/make_a_copy.jpg" /><p> Note: You need to save all of that into the top level folder of your Google Drive. The example code assumes that all of the necessary files are sitting in the top level (ie "My Drive" not a subfolder).</p><h4>3. Enter your credentials</h4><p> Once you have your own copies, you need to edit the two Google Colab notebooks (reddit_reply_bot_simple_step1.ipynb and reddit_reply_bot_simple_step1.ipynb) with the specific details for your reddit app from Step 1 above. All the changes should take place right at the top of the file.</p><img src="/assets/images/2020/colab_edit.png" /><p> You can also change the name of the intermediate file (<code>save_to_drive_csv_name = 'proposed_replies_testing.csv'</code>) to whatever you want.</p><h4>4. Run reddit_reply_bot_simple_<strong>step1</strong>.ipynb</h4><p> With your credentials you can now run the . Press the play button in the top left corner. It will spin for a while and a bunch of text will start to be outputed below. Eventually, the following prompt will appear.</p><img src="/assets/images/2020/mount_gdrive.png" /><p> Follow the link to mount your Google Drive into the Google Colab environment. This allows you to load the pretrained models.</p><h4>5. Run reddit_reply_bot_simple_<strong>step2</strong>.ipynb</h4><p> Now open the step2 notebook, make sure the credentials are the same, and run it. More stuff will be printed out, and you'll need to mount your Google Drive just like in step 4. This one will take even longer to run. Eventually you will see some output that contains <code>REPLYING NOW WITH:</code> like the following.</p><img src="/assets/images/2020/tup_reply.png" /><p> When this is being printed, the bot should be submitting responses in real-time. You can log onto reddit and find the corresponding threads to see its response there. Or go to your bots home page (<code>reddit.com/user/{your_bot_name}</code>) to see all of its comments.</p><h4>Questions?</h4><p> If you run into any issues or if there's something confusing, please let me know. I'll be quickest to respond on <a href="https://twitter.com/bonkerfield">Twitter</a> or <a href="https://fosstodon.org/@bonkerfield">Mastodon</a>. You can learn more about this project <a href="/2020/02/combining-gpt-2-and-bert/">here</a> or learn how to customize this bot on new input data <a href="/2020/02/reddit-bot-gpt2-bert/">here</a>. Have fun with this, but please, think before you use it for something bad.</p></div></div></div><div class="section-padding--none"><div class="grid"><hr class="sep" /></div></div><div class="section-padding"><div class="grid-small"><h3 class="post__discussion">Discussion Around the <a href="https://indieweb.org/Webmention">Web</a></h3><div id="webmentions"></div><hr style="margin: 5px 0;" class="sep" /><p>Join the Conversation</p><form target="_blank" name="tweet" action="https://twitter.com/share" method="get"> <input type="hidden" name="original_referer" value="https://bonkerfield.org/2020/04/twenty-minute-gpt2-reply-bot/"> <input type="hidden" name="source" value="bonkerfield"> <textarea style="border-color:#aaa;" id="textar" name="text" maxlength="140"></textarea> <input type="hidden" name="url" value="https://bonkerfield.org/2020/04/twenty-minute-gpt2-reply-bot/"> <button class="btn btn-sm btn-social btn-tw" type="submit" id="button"> <i class="fab fa-twitter"></i> <br/>comment by tweet </button> </form> <script src="/assets/js/webmention.min.js"></script></div></div></article></div><section class="related section-padding"><div class="grid-xlarge"><h2 class="related__title">Related</h2><div class="related__container"><article class="related__post"> <a class="related__link" href="https://bonkerfield.org/2020/04/virtual-black-rock-city/"><figure class="related__img"> <img src="/assets/images/2020/vbrc.gif" alt="Building a Virtual Black Rock City" /></figure><div><h2 class="related__text">Building a Virtual Black Rock City</h2></div></a></article><article class="related__post"> <a class="related__link" href="https://bonkerfield.org/2020/04/twenty-minute-gpt2-reply-bot/"><figure class="related__img"> <img src="/assets/images/2020/tup_too_real.png" alt="A GPT2+BERT reddit reply bot in 20 minutes" /></figure><div><h2 class="related__text">A GPT2+BERT reddit reply bot in 20 minutes</h2></div></a></article><article class="related__post"> <a class="related__link" href="https://bonkerfield.org/2020/02/reddit-bot-gpt2-bert/"><div><h2 class="related__text">How to build a convincing reddit personality with GPT2 and BERT</h2></div></a></article></div></div></section></main><footer class="footer section-padding"><div class="grid"><div class="subscribe" id="subscribe"><div class="subscribe__container"> <span class="subscribe__title">Subscribe</span><p class="subscribe__text">Get an update when I post new content.</p><form method="POST" action="https://bonkerfield.us4.list-manage.com/subscribe/post-json?u=68d1146ea8fe327def203f254&amp;id=e88ba623c5&amp;c=?" id="mc-signup" name="mc-embedded-subscribe-form" novalidate><div style="position: absolute; left: -5000px;" aria-hidden="true"> <input type="text" name="b_68d1146ea8fe327def203f254_e88ba623c5" tabindex="-1" value=""></div><div class="form-group"> <input id="mce-EMAIL" type="email" name="EMAIL" placeholder="Email Address"></div><div class="form__btn"> <input id="mc-submit" type="submit" value="Sign Up" name="subscribe"></div></form><p class="subscribe__error hidden"></p></div></div><hr class="sep--white"/><div class="footer__container"><ul class="footer__social"><li><a href="https://twitter.com/bonkerfield" rel="me" target="_blank"><i class="fab fa-twitter"></i></a></li><li><a href="https://www.linkedin.com/in/willstedden" rel="me" target="_blank"><i class="fab fa-linkedin"></i></a></li><li><a href="https://github.com/stedn" rel="me" target="_blank"><i class="fab fa-github"></i></a></li><li><a href="https://codepen.io/stedn/" rel="me" target="_blank"><i class="fab fa-codepen"></i></a></li><li><a href="https://www.reddit.com/user/bonkerfield" rel="me" target="_blank"><i class="fab fa-reddit-alien"></i></a></li><li><a href="https://fosstodon.org/@bonkerfield" rel="me" target="_blank"><i class="fab fa-mastodon"></i></a></li></ul><form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank"> <input type="hidden" name="cmd" value="_donations" /> <input type="hidden" name="business" value="3LHDHWRBWMGZA" /> <input type="hidden" name="item_name" value="Help Fund the Quantum Multiverse Bifurcator" /> <input type="hidden" name="currency_code" value="USD" /> <input type="submit" value="donate" name="submit" style="width:15%;min-width:70px;"> <img alt="" border="0" src="https://www.paypal.com/en_US/i/scr/pixel.gif" width="1" height="1" /> </form><div class="posts__pagination"> <span>All content on this blog is free to use under a creative commons <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a> license</span></div></div></div></footer><section class="contact popup"><div class="popup__close"><div class="popup__exit"></div></div><div class="contact__container popup__container"><div class="contact__img"><figure class="absolute-bg" style="background-image: url(/assets/images/2020/big_bonkerfield.png);"></figure></div><div class="contact__content"><h3 style="text-align:center;margin-top:18%;margin-bottom:20%">Reach out on <a href="https://twitter.com/bonkerfield" rel="me" target="_blank"><i class="fab fa-twitter }}"></i></a> or <a href="https://fosstodon.org/@bonkerfield" rel="me" target="_blank"><i class="fab fa-mastodon }}"></i></a></h3><div class="section-padding--none"><hr class="sep"/></div><div class="contact__form section-padding--half"><div class="grid-xlarge"><h4 style="text-align:center;margin-bottom:5%;">or leave a message here</h4><form id="form" class="form" action="https://docs.google.com/forms/u/0/d/e/1FAIpQLSctE1VauB_r8xR0tsfPas21pTUqKg-5vC8zXgl_eRjJW2FP_g/formResponse" method="POST"><div> <label for="form-email">email</label> <input type="email" name="entry.644994945" id="form-email" required></div><div> <label for="form-message">message</label> <textarea name="entry.918842698" id="form-message" rows="2"></textarea></div><div class="form__submit"><div class="form__btn"> <input type="submit" value="Send"></div></div><p class="form__message"></p></form></div></div></div></div></section><script src="/assets/js/app.min.js"></script> <script> (function() { var links = document.getElementsByTagName('a'); for (var i = 0; i < links.length; i++) { if (/^(http?:)?\/\//.test(links[i].getAttribute('href'))) { links[i].target = '_blank'; } } })(); </script></body></html>
  