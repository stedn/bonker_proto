<!DOCTYPE html><html lang="en"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Predicting Bike Share Usage | bonkerfield</title><meta name="description" content="personal information identity spacetime map"><meta itemprop="name" content="Will Stedden"><meta itemprop="description" content="personal information identity spacetime map"><meta itemprop="image" content="http://3.bp.blogspot.com/-qlw2VUtEIVo/VIXZPAgqMxI/AAAAAAAAA6A/ZsFmny0Rl-Y/1024px-Hangzhou_bike_sharing_station.jpg"><meta property="og:url" content="https://bonkerfield.org/2014/12/predicting-bike-share-usage/"><meta property="og:type" content="website"><meta property="og:title" content="Predicting Bike Share Usage | bonkerfield"><meta property="og:site_name" content="bonkerfield"><meta property="og:description" content="personal information identity spacetime map"><meta property="og:image" content="http://3.bp.blogspot.com/-qlw2VUtEIVo/VIXZPAgqMxI/AAAAAAAAA6A/ZsFmny0Rl-Y/1024px-Hangzhou_bike_sharing_station.jpg"><meta property="twitter:url" content="https://bonkerfield.org/2014/12/predicting-bike-share-usage/"><meta property="twitter:card" content="summary_large_image"/><meta property="twitter:title" content="Predicting Bike Share Usage | bonkerfield"><meta property="twitter:site" content="bonkerfield"><meta property="twitter:description" content="personal information identity spacetime map"><meta property="twitter:creator" content="@bonkerfield"><meta property="twitter:image" content="http://3.bp.blogspot.com/-qlw2VUtEIVo/VIXZPAgqMxI/AAAAAAAAA6A/ZsFmny0Rl-Y/1024px-Hangzhou_bike_sharing_station.jpg"><link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico"><link rel="stylesheet" href="/assets/css/app.min.css"><link rel="alternate" type="application/rss+xml" title="bonkerfield" href="/feed.xml"><link rel="canonical" href="/2014/12/predicting-bike-share-usage/"><link rel="webmention" href="https://webmention.io/www.bonkerfield.org/webmention" /><link rel="pingback" href="https://webmention.io/www.bonkerfield.org/xmlrpc" /> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-132451521-2"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-132451521-2'); </script><link href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css' rel='stylesheet'/></head><body id="predicting-bike-share-usage" class="post-layout"><header class="header"> <a class="header__title" href="/">bonkerfield</a><nav><ul class="header__list"><li><a href="/things">things</a></li><li><a href="/qmb">doings</a></li><li><a href="https://viewfoil.bonkerfield.org/"><img src="/assets/images/main/viewfoil_ico.svg"/></a></li><li><span class="popup__open"><i class="fa fa-envelope"></i></span></li><li><a href="/search"><i class="fa fa-search"></i></a></li></ul></nav></header><main class="bonk"><div class="post"><article class="h-entry" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting"><div class="post__header section-padding-half"><div class="grid-small"><h2 itemprop="name headline p-name">Predicting Bike Share Usage</h2><time class="post__date dt-published" datetime="2014-12-08T00:00:00-08:00" itemprop="datePublished">2014·12·08</time><p class="post__date p-summary"></p><a class="u-url" style="display:none;" href="https://bonkerfield.org/2014/12/predicting-bike-share-usage/"></a></div></div><div class="post__content section-padding"><div class="grid"><div class="e-content" id="markdown" itemprop="articleBody"><p> I recently worked on a <a href="https://www.kaggle.com/">Kaggle</a> competition while I was taking Coursera's <a href="https://www.coursera.org/course/datasci">Introduction to Data Science</a>. Here's a quick summary of what I came up with.</p><img alt="Hangzhou bike sharing station" src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6a/Hangzhou_bike_sharing_station.jpg/512px-Hangzhou_bike_sharing_station.jpg" title="Payton Chung [CC BY (https://creativecommons.org/licenses/by/2.0)]" width="512"/><p> The goal of this project was to come up with a system to predict how many bikes will be used during a given hour.</p><p> The bike share company provided us with historical data for two years, including hourly weather and weekend/holiday information as well as the number of bikes in use each hour. I tested my predictions against the hourly bike usage for the last week of every month.</p><p> Because there were slowly-varying trends in bike share popularity over this time, I decided that the most important factor was the average for a given hour over the past 5-10 days. I therefore, generated this statistic from the underlying dataset by performing a moving average. I then supplied the weather and holiday statistics along with the moving average as training data to implementations of a neural network and a random forest. The random forest performed better on my cross-validation set so I used it in my submission.</p><p> The data set was surprisingly small so I simply imported it into the memory of a MATLAB runtime environment. From there, I used a custom script to generate moving averages for every hourly timeslot and added that to the original dataset. These datasets could be fed directly to existing neural network and random forest packages contained in MATLAB. The data munging to create the moving average presented a slight difficulty.</p><p> The approach was simple but still allowed me to improve greatly over the baseline benchmark, reducing the mean error from 1.5 to 0.75. You can check out the <a href="https://github.com/lots-of-things/biker-predict">biker-predict</a> code on github.</p></div></div></div><div class="section-padding--none"><div class="grid"><hr class="sep" /></div></div><div class="section-padding"><div class="grid-small p-author h-card"><p class="post__author">Discussion</p><div id="webmentions"></div><hr style="margin: 5px 0;" class="sep" /> <form target="_blank" name="tweet" action="https://twitter.com/share" method="get"> <input type="hidden" name="original_referer" value="https://bonkerfield.org/2014/12/predicting-bike-share-usage/"> <input type="hidden" name="source" value="bonkerfield"> <textarea style="border-color:#aaa;" id="textar" name="text" maxlength="140"></textarea> <input type="hidden" name="url" value="https://bonkerfield.org/2014/12/predicting-bike-share-usage/"> <button class="btn btn-sm btn-social btn-tw" type="submit" id="button"> <i class="fab fa-twitter"></i> <br/>comment by tweet </button> </form><hr style="margin: 5px 0;" class="sep" /> <form target="_blank" name="tweet" action="https://www.reddit.com/submit" method="get"> <input type="hidden" name="source" value="bonkerfield"> <textarea style="border-color:#aaa;" id="textar" name="title" maxlength="140"></textarea> <button class="btn btn-sm btn-social btn-rd" type="submit" id="button"> <i class="fab fa-reddit-alien"></i> <br/>submit to reddit </button> <input type="hidden" name="url" value="https://bonkerfield.org/2014/12/predicting-bike-share-usage/"> </form> <script src="/assets/js/webmention.min.js"></script><style> .btn-social, .btn-social:visited, .btn-social:focus, .btn-social:hover, .btn-social:active { margin-left: 10px; width: 25%; color: #ffffff; text-decoration: none; border-color: #aaa; transition: opacity .15s ease-in-out; } .btn-social:hover, .btn-social:active { opacity: .75; } .btn-tw { background-color: #1da1f2; } .btn-rd { background-color: #ff4500; }</style></div></div><div class="section-padding--none"><div class="grid"><hr class="sep" /></div></div><div class="section-padding"><div class="grid-small p-author h-card"> <span class="post__author">Posted by <a class="p-name u-url" href="http://hellowill.bonkerfield.org" title="More By Will Stedden">Will Stedden</a></span></div></div></article></div><section class="related section-padding"><div class="grid-xlarge"><h2 class="related__title">Related</h2><div class="related__container"><article class="related__post"> <a class="related__link" href="https://bonkerfield.org/2020/02/wuhan-virus-model/"><figure class="related__img"> <img src="/assets/images/2020/wuhan_overview_im.png" alt="Modeling whether an outbreak of COVID-19 virus will hit San Francisco" /></figure><div><h2 class="related__text">Modeling whether an outbreak of COVID-19 virus will hit San Francisco</h2></div></a></article><article class="related__post"> <a class="related__link" href="https://bonkerfield.org/2019/06/google-analytics-for-scrolling-on/"><figure class="related__img"> <img src="https://1.bp.blogspot.com/-BN1Su8VptwM/XfGCDzfGpGI/AAAAAAAAFLQ/D5ZMotAq5qso7tUPfbzc4U1LJCPwS2bYwCLcBGAsYHQ/Screenshot%2Bfrom%2B2019-12-11%2B15-47-15.png" alt="Google Analytics for Scrolling on a Static Website (or Google Analytics is Creepy)" /></figure><div><h2 class="related__text">Google Analytics for Scrolling on a Static Website (or Google Analytics is Creepy)</h2></div></a></article><article class="related__post"> <a class="related__link" href="https://bonkerfield.org/2019/04/visualizing-shared-budgets-and-dividing/"><figure class="related__img"> <img src="https://1.bp.blogspot.com/-_tf3KY6IKew/XJsCuBf0TGI/AAAAAAAADmg/hP2k6zaGSokoPBK_4Vhn2Svv2bjpIdz1wCLcBGAs/Screen%2BShot%2B2019-03-26%2Bat%2B9.57.17%2BPM.png" alt="Visualizing shared budgets and dividing up household expenses fairly" /></figure><div><h2 class="related__text">Visualizing shared budgets and dividing up household expenses fairly</h2></div></a></article></div></div></section></main><footer class="footer section-padding"><div class="grid"><div class="subscribe" id="subscribe"><div class="subscribe__container"> <span class="subscribe__title">Subscribe</span><p class="subscribe__text">Get an update when I post new content.</p><form method="POST" action="https://bonkerfield.us4.list-manage.com/subscribe/post-json?u=68d1146ea8fe327def203f254&amp;id=e88ba623c5&amp;c=?" id="mc-signup" name="mc-embedded-subscribe-form" novalidate><div style="position: absolute; left: -5000px;" aria-hidden="true"> <input type="text" name="b_68d1146ea8fe327def203f254_e88ba623c5" tabindex="-1" value=""></div><div class="form-group"> <input id="mce-EMAIL" type="email" name="EMAIL" placeholder="Email Address"></div><div class="form__btn"> <input id="mc-submit" type="submit" value="Sign Up" name="subscribe"></div></form><p class="subscribe__error hidden"></p></div></div><hr class="sep--white"/><div class="footer__container"><ul class="footer__social"><li><a href="https://twitter.com/bonkerfield" rel="me" target="_blank"><i class="fab fa-twitter"></i></a></li><li><a href="https://www.instagram.com/bonkerfield/" rel="me" target="_blank"><i class="fab fa-instagram"></i></a></li><li><a href="https://www.linkedin.com/in/willstedden" rel="me" target="_blank"><i class="fab fa-linkedin"></i></a></li><li><a href="https://github.com/stedn" rel="me" target="_blank"><i class="fab fa-github"></i></a></li><li><a href="https://codepen.io/stedn/" rel="me" target="_blank"><i class="fab fa-codepen"></i></a></li><li><a href="https://www.reddit.com/user/bonkerfield" rel="me" target="_blank"><i class="fab fa-reddit-alien"></i></a></li><li><a href="https://fosstodon.org/@bonkerfield" rel="me" target="_blank"><i class="fab fa-mastodon"></i></a></li></ul><form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank"> <input type="hidden" name="cmd" value="_donations" /> <input type="hidden" name="business" value="3LHDHWRBWMGZA" /> <input type="hidden" name="item_name" value="Help Fund the Quantum Multiverse Bifurcator" /> <input type="hidden" name="currency_code" value="USD" /> <input type="submit" value="donate" name="submit" style="width:15%;min-width:70px;"> <img alt="" border="0" src="https://www.paypal.com/en_US/i/scr/pixel.gif" width="1" height="1" /> </form><div class="posts__pagination"> <span>All content on this blog is free to use under a creative commons <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a> license</span></div></div></div></footer><section class="contact popup"><div class="popup__close"><div class="popup__exit"></div></div><div class="contact__container popup__container"><div class="contact__img"><figure class="absolute-bg" style="background-image: url(/assets/images/2020/big_bonkerfield.png);"></figure></div><div class="contact__content"><div class="contact__mast section-padding--half"><div class="grid"><h2>Contact</h2></div></div><div class="section-padding--none"><hr class="sep"/></div><div class="contact__form section-padding--half"><div class="grid-xlarge"> <form id="form" class="form" action="https://docs.google.com/forms/u/0/d/e/1FAIpQLSctE1VauB_r8xR0tsfPas21pTUqKg-5vC8zXgl_eRjJW2FP_g/formResponse" method="POST"><div class="form__subcontainer"><div> <label for="form-first-name">first name</label> <input type="text" name="entry.1565830609" id="form-first-name" required></div><div> <label for="form-last-name">last name</label> <input type="text" name="entry.1397370877" id="form-last-name" required></div></div><div> <label for="form-email">email</label> <input type="email" name="entry.644994945" id="form-email" required></div><div> <label for="form-message">message</label> <textarea name="entry.918842698" id="form-message" rows="3"></textarea></div><div class="form__submit"><div class="form__btn"> <input type="submit" value="Send"></div></div><p class="form__message"></p></form></div></div></div></div></section><script src="/assets/js/app.min.js"></script> <script> (function() { var links = document.getElementsByTagName('a'); for (var i = 0; i < links.length; i++) { if (/^(http?:)?\/\//.test(links[i].getAttribute('href'))) { links[i].target = '_blank'; } } })(); </script></body></html>
  